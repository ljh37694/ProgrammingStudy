<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <script>
            class Parent {
                constructor(name, age) {
                    this.name = name;
                    this.age = age;

                    // constructor 안에 넣으면 prototype에 들어가지 않는다.
                    this.print = () => {
                        console.log(this.name, this.age);
                    }
                }

                // 밖에 함수를 만들면 Parent.prototype에 들어간다.
                printName() {
                    console.log(this.name);
                }
            }

            class Children extends Parent {
                constructor(name, age, gender) {
                    super(name, age); // 부모의 constructor를 상속받음
                    this.gender = gender;
                }

                printAge() {
                    console.log(this.age);
                    super.printName(); // 부모의 함수를 사용할 수 있다.
                }

                // 부모와 같은 이름의 함수를 재정의할 수 있음
                printName() {
                    console.log(this.name, this.gender);
                }
            }

            let personA = new Parent("Lee", 23);
            let personB = new Children("Lee", 10, "male");

            personA.printName();
            personB.printName();
            personA.print();
            personB.printAge();

            console.log(personA);
            console.log(personB);

            // 1.
            class Dog {
                constructor(type, color) {
                    this.type = type;
                    this.color = color;
                }

                agePlusOne() {
                    // instanceOf를 이용해서 오브젝트가 Cat일 때만 True
                    if (this instanceof Cat) {
                        this.age++;
                    }
                }
            }

            let dog1 = new Dog("말티즈", "white");
            let dog2 = new Dog("진돗개", "brown");

            class Cat extends Dog {
                constructor(type, color, age) {
                    super(type, color);
                    this.age = age;
                }

                // agePlusOne() {
                //     this.age++;
                // }
            }

            let cat1 = new Cat("코숏", "white", 5);
            let cat2 = new Cat("러시안 블루", "brown", 2);

            console.log(cat1.age);
            console.log(dog1.age);
            cat1.agePlusOne();
            dog1.agePlusOne();
            console.log(cat1.age);
            console.log(dog1.age);

            class Unit {
                constructor() {
                    this.atk = 5;
                    this.hp = 100;
                }

                get battlePoint() {
                    return this.atk + this.hp;
                }

                set heal(hp) {
                    this.hp += hp;
                }
            }

            let unit1 = new Unit;

            console.log(unit1.battlePoint);
            unit1.heal = 50;
            console.log(unit1.hp);

            let data = {
                odd : [],
                even : [],

                addNumbers(...numbers) {
                    numbers.forEach(num => {
                        if (num % 2) {
                            this.odd.push(num);
                        }

                        else {
                            this.even.push(num);
                        }
                    });

                    this.odd.sort();
                    this.even.sort();
                },

                get numbers() {
                    let answer = [...this.odd, ...this.even]; 

                    return answer.sort();
                }
            }

            data.addNumbers(1, 2, 3, 4, 5);
            console.log(data);
            console.log(data.numbers);
        </script>
    </body>
</html>